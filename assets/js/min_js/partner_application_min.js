document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("partner-form");if(!e)return;let t=document.getElementById("partner-submit"),r;function s(t,s){let n=document.getElementById("partner-form-message");n||((n=document.createElement("div")).id="partner-form-message",n.style.marginTop="15px",n.style.padding="10px",n.style.borderRadius="5px",n.style.fontWeight="500",e.appendChild(n)),n.textContent=t,n.style.backgroundColor="success"===s?"#d4edda":"#f8d7da",n.style.color="success"===s?"#155724":"#721c24",n.style.border="success"===s?"1px solid #c3e6cb":"1px solid #f5c6cb",r&&clearTimeout(r),r=setTimeout(()=>{n.remove()},5e3)}e.addEventListener("submit",r=>{r.preventDefault();let n=e.company_name.value.trim(),a=e.contact_person.value.trim(),l=e.email.value.trim(),o=e.phone.value.trim();e.website.value.trim();let i=e.address.value.trim(),d=e.service_type.value.trim();e.notes.value.trim();let c=e.querySelector("#partner-terms").checked;if(!n||!a||!l||!o||!i||!d){s("Please fill all required fields!","error");return}if(!/^[a-zA-Z\s]+$/.test(a)){s("Contact Person should contain only letters!","error");return}if(!/^[^@]+@[^@]+\.[^@]+$/.test(l)){s("Invalid email address!","error");return}if(!/^\+?\s*(?:\d\s*){10,15}$/.test(o)){s("Invalid phone number. Enter 10â€“15 digits, spaces and + allowed.","error");return}if(!c){s("Please accept Terms & Conditions!","error");return}t.disabled=!0,t.textContent="Submitting...";let m=new FormData(e);fetch("partner_submit.php",{method:"POST",body:m}).then(e=>e.json()).then(r=>{"success"===r.status?(s(r.message,"success"),e.reset()):s(r.message,"error"),t.disabled=!1,t.textContent="Submit"}).catch(e=>{s("Server error. Check console.","error"),console.error(e),t.disabled=!1,t.textContent="Submit"})})});